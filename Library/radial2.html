<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .demo {
            flex-direction: column;
        }
        .demo:first-child {
            margin-bottom: 20px;
        }
        .progress {
            transform: rotate(-90deg);
        }

        .progress__meter,
        .progress__value {
            fill: none;
        }
        .progress__meter {
            stroke: #e6e6e6;
        }
        .progress__value {
            stroke: #f77a52;
            stroke-linecap: round;
        }
        .progress__value2 {
            stroke: #65f752;
            stroke-linecap: round;
        }
        .circle{
            transition: all 1s;
        }
        .circle:hover{
            stroke: aqua;
        }

    </style>
</head>
<body style="background-color: #e6e6e6;">
    <div class="demo">
        <svg class="progress" width="200" height="200" viewBox="0 0 120 120">
            <circle class="progress__meter" cx="60" cy="60" r="54" stroke-width="12" />
            <circle class="progress__value circle" cx="60" cy="60" r="54" stroke-width="12" />
            <circle class="progress__value2 circle" cx="60" cy="60" r="54" stroke-width="12" />
        </svg>
        <input id="control" type="range" value="60" />
    </div>
    <script>
        var control = document.getElementById('control');
        var progressValue = document.querySelector('.progress__value');
        var progressValue2 = document.querySelector('.progress__value2');

        var RADIUS = 54;
        var CIRCUMFERENCE = 2 * Math.PI * RADIUS;

        function progress(value) {
            var progress = value / 100;
            var dashoffset = CIRCUMFERENCE * (1 - progress);
            
            console.log('progress:', value + '%', '|', 'offset:', dashoffset)            
            progressValue2.style.strokeDashoffset = dashoffset;
        }
        function progressInitial(value, circle) {
            var progress = value / 100;
            var dashoffset = CIRCUMFERENCE * (1 - progress);            
            console.log('progress:', value + '%', '|', 'offset:', dashoffset)            
            circle.style.strokeDashoffset = dashoffset;
        }


        control.addEventListener('input', function(event) {
            progress(event.target.valueAsNumber);
        });

        progressValue.style.strokeDasharray = CIRCUMFERENCE;
        progressValue2.style.strokeDasharray = CIRCUMFERENCE;
        progress(60);
        progressInitial(80,progressValue);
    </script>


    <svg viewBox="0 0 100 100" width="200" height="200">
    <clipPath id="myClip1" clipPathUnits="userSpaceOnUse">
      <circle cx="50" cy="50" r="35" />
    </clipPath>
   
    <clipPath id="myClip2" clipPathUnits="objectBoundingBox">
      <circle cx=".5" cy=".5" r=".35" />
    </clipPath>
   
    <!-- Some reference rect to materialized to clip path -->
    <rect id="r1" x="0"  y="0"  width="45" height="45" />
    <rect id="r2" x="0"  y="55" width="45" height="45" />
    <rect id="r3" x="55" y="55" width="45" height="45" />
    <rect id="r4" x="55" y="0"  width="45" height="45" />
   
    <!-- The first 3 rect are clipped with useSpaceOnUse units -->
    <use clip-path="url(#myClip1)" href="#r1" fill="red" />
    <use clip-path="url(#myClip1)" href="#r2" fill="red" />
    <use clip-path="url(#myClip1)" href="#r3" fill="red" />
   
    <!-- The last rect is clipped with objectBoundingBox units -->
    <use clip-path="url(#myClip2)" xlink:href="#r4" fill="red" />
    </svg>

  <div id="svgHolder"></div>
  <script>
      function draw() {
            var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute("style", "height: 100%; width: 100%; position: absolute;");
        
            var clipPath = document.createElement("clipPath");
            clipPath.id = "fieldClip";
            svg.appendChild(clipPath);
        
            var fill = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            fill.id = "fieldFill";
            fill.setAttribute("cx", "0");
            fill.setAttribute("cy", "0");
            fill.setAttribute("r", "60");
            clipPath.appendChild(fill);
        
            var path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path.id = "fieldShield";
            path.setAttribute("d", "m395,20c0.910,57.6 0.857,115 0,173-0.833,55.5-3.60,98.8-28.5,133-29.9,40.8-79.8,70.2-144,99.2-64.2-28.9-114-58.4-144-99.2-24.9-33.9-27.6-77.2-28.5-133-0.857-57.6-0.910-115 0-173z");
            path.setAttribute("style", "stroke: white; stroke-width: 3;");
            svg.appendChild(path);        
            var use = document.createElementNS("http://www.w3.org/2000/svg", "use");
            use.className = "divisions";
            use.setAttribute("clip-path", "url('#fieldClip')");
            use.setAttribute("href", "#fieldShield");
            use.setAttribute("fill", "red");
            svg.appendChild(use); 
            document.getElementById("svgHolder").append(svg);
    }
    draw();
  </script>

</body>
</html>